@using System.Web.Caching;

@functions {
    public class SpeakingOpportunity
    {
        public string Location { get; private set; }
        public string DateText { get; private set; }
        public DateTime ListingDate { get; private set; }
        public string Title { get; private set; }
        public string Url { get; private set; }

        public SpeakingOpportunity(string title, string url, string location, string dateText, DateTime listingDate)
        {
            this.Title = title;
            this.Url = url;
            this.DateText = dateText;
            this.ListingDate = listingDate;
            this.Location = location;
        }
    }
}
@{
    Layout = "~/themes/" + Blog.Theme + "/_Layout.cshtml";

    Page.Title = "Speaking";
    Page.Description = "Conferences and meetups where I'm speaking or have speaked in the past.";

    var speakingOpportunities = new List<SpeakingOpportunity>
{
    new SpeakingOpportunity("DevDays Europe 2019", "https://devdays.lt/", "Vilnius", "14-16 May", new DateTime(2019, 5, 16)),
    /*new SpeakingOpportunity("Azug.be", "https://www.azug.be/", "", "7 May", new DateTime(2019, 5, 7)),*/
    /*new SpeakingOpportunity("Move Up with your architecture", "https://www.4dotnet.nl/", "Nieuwegein", "28 February", new DateTime(2019, 2, 28)),*/
    new SpeakingOpportunity("TopConf Talinn 2018", "https://www.topconf.com/conference/topconf-tallinn-2018/index", "Talinn", "20-22 November", new DateTime(2018, 11, 22)),
    new SpeakingOpportunity("TechDays Sweden 2018", "http://tdswe.se/", "Stockholm", "24-25 October", new DateTime(2018, 10, 25)),
    new SpeakingOpportunity("All Day DevOps 2018: Live Online", "https://www.alldaydevops.com/", "Online", "17 October", new DateTime(2018, 10, 17)),
    new SpeakingOpportunity("Techorama NL 2018", "https://techorama.nl/", "Ede", "1-3 October", new DateTime(2018, 10, 3)),
    new SpeakingOpportunity("devNetNoord", "https://www.meetup.com/devnetnoord/events/248989109/", "Groningen", "27 September", new DateTime(2018, 9, 27)),
    new SpeakingOpportunity("4DotNet Pizza Session - Serverless Security", "https://www.4dotnet.nl/", "Meppel", "2 August", new DateTime(2018, 8, 2)),
    new SpeakingOpportunity("SDN Event", "https://www.sdn.nl/EVENTS/15-juni-2018", "Zeist", "15 June 2018", new DateTime(2018, 6, 15)),
    new SpeakingOpportunity("MoveUp with Microservices & Blockchain", "https://www.eventbrite.nl/e/tickets-move-up-with-microservices-blockchain-45232561810?aff=janvnl", "Zwolle", "7 June 2018", new DateTime(2018, 7, 7)),
    new SpeakingOpportunity("DevOps Talinn 2018", "https://www.topconf.com/conference/devops-tallinn-2018/index", "Tallinn", "17 May 2018", new DateTime(2018, 5, 17)),
    new SpeakingOpportunity("SDN Event", "https://www.sdn.nl/EVENTS/23-maart-2018", "Zeist", "23 March 2018", new DateTime(2018, 3, 23)),
    new SpeakingOpportunity("AppDevCon", "http://appdevcon.nl/", "Amsterdam", "16 March 2018", new DateTime(2018, 3, 16)),
    new SpeakingOpportunity("Move Up with Azure", "http://www.4dotnet.nl/nieuws/move-up-with-azure-event", "Nieuwegein", "22 February 2018", new DateTime(2018, 2, 22)),
    new SpeakingOpportunity("dotNet Amsterdam meetup", "https://www.meetup.com/nl-NL/dotnet-amsterdam/", "Amsterdam", "21 February 2018", new DateTime(2018, 2, 21)),
    new SpeakingOpportunity("TechDays NL 2017", "https://www.techdays.nl/", "Amsterdam", "12-13 October 2017", new DateTime(2017, 10, 13)),
    new SpeakingOpportunity("Dutch .NET Group", "https://www.meetup.com/nl-NL/dutchdotnet/events/238324204/", "Nieuwegein", "13 April 2017", new DateTime(2017, 4, 13)),
};

<article class="post" itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <header class="jumbotron">
        <h1 itemprop="headline name">
            <a href="/speaking" itemprop="url">Speaking</a>
        </h1>
    </header>

    <div itemprop="articleBody">
        <p>
            I love speaking at (international) conferences, meetups, local events or at companies. Sharing my passion for everything tech
            related which crosses my path, be it something developer related, designing a proper architecture or just
            share the experience and pitfalls of some project I'm working on.
        </p>
        <p>
            Sharing information is the key to success in our industry and discussing pros and cons of a specific technology
            on an event is keeping all of us up-to-date!
        </p>
        <p>
            I'll update this page whenever I get invited to speak at an event. If you happen to be at an event where I'm giving
            a talk, feel free to have a chat with me. I love talking about tech!
        </p>
        
        @if (speakingOpportunities.Any(s => s.ListingDate.Date >= DateTime.UtcNow.Date))
        {
            <h2>
                Upcoming events
            </h2>
        }
        @foreach (var speakingOpportunity in speakingOpportunities.Where(s => s.ListingDate.Date >= DateTime.UtcNow.Date))
        {
            <div>
                <h3>
                    <a href="@speakingOpportunity.Url" target="_blank">
                        @speakingOpportunity.Title
                    </a>
                </h3>
                <p>
                    @speakingOpportunity.Location, @speakingOpportunity.DateText
                </p>
            </div>
        }
        <h2>
            Past events
        </h2>
        @foreach (var speakingOpportunity in speakingOpportunities.Where(s => s.ListingDate.Date < DateTime.UtcNow.Date))
        {
            <div>
                <h3>
                    <a href="@speakingOpportunity.Url" target="_blank">
                        @speakingOpportunity.Title
                    </a>
                </h3>
                <p>
                    @speakingOpportunity.Location, @speakingOpportunity.DateText
                </p>
            </div>
        }
    </div>

</article>

@helper Categories()
{
    if (Model.Categories.Length > 0 || User.Identity.IsAuthenticated)
    {
        <ul class="categories">
            <li><em class="glyphicon glyphicon-tags"></em>&nbsp; Posted in:&nbsp;</li>
            @foreach (string cat in Model.Categories)
            {
                <li itemprop="articleSection">
                    <a href="~/category/@HttpUtility.UrlEncode(cat.ToLowerInvariant())">@cat</a>
                </li>
            }
        </ul>
    }
}

if (!Request.IsLocal && !User.Identity.IsAuthenticated)
{
    Response.Cache.AppendCacheExtension("max-age=0");
    Response.Cache.SetValidUntilExpires(true);
    Response.Cache.SetCacheability(HttpCacheability.ServerAndPrivate);
    Response.Cache.SetVaryByCustom("authenticated");
    Response.Cache.VaryByParams["slug"] = true;
    Response.AddCacheDependency(new CacheDependency(Server.MapPath("~/")));
    Response.AddCacheDependency(new CacheDependency(Server.MapPath("~/scripts")));
    Response.AddCacheDependency(new CacheDependency(Server.MapPath("~/Content")));
    Response.AddCacheDependency(new CacheDependency(Server.MapPath("~/themes/" + Blog.Theme)));
}
}