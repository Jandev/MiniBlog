<?xml version="1.0" encoding="utf-8"?>
<post>
  <title>Mercurial</title>
  <slug>mercurial</slug>
  <author>Jan</author>
  <pubDate>2010-10-15 18:42:00</pubDate>
  <lastModified>2014-04-25 12:06:08</lastModified>
  <content>&lt;div class="ExternalClassCD1652CA4698491DAD9FF79888CBAE7E"&gt;
&lt;p&gt;Zoals is te lezen heb ik gekozen om &lt;a href="http://mercurial.selenic.com/"&gt;Mercurial&lt;/a&gt; te gaan gebruiken als versiebeheer systeem voor m'n eigen code.&lt;/p&gt;
&lt;p&gt;Na installatie had ik al vrij snel een nieuwe repository gemaakt met daarin m'n code. Je start gewoon de command prompt op, gaat naar de map welke in het versiebeheer systeem moet komen. Tikt het volgende in:&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: Courier New;"&gt;hg init&lt;br /&gt;hg add&lt;br /&gt;hg com &amp;ndash;m "Initial commit" &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;3 commando's, dat is alles wat gedaan moet worden om je code in een nieuwe repository te plaatsen. Een redelijk goede guide is hier te vinden: &lt;a href="http://mercurial.selenic.com/guide/"&gt;http://mercurial.selenic.com/guide/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Omdat ik niet heel bekend was/ben met DVCS systemen heb ik eerst het een en ander ingelezen over de werking en wat de bedoeling precies is. Voor Mercurial is er een super goede tutorial geschreven door Joel Spolsky op &lt;a href="http://hginit.com/"&gt;http://hginit.com/&lt;/a&gt;. Hier heb ik veel informative vandaan gehaald over hoe ik moet werken met Mercurial.&lt;/p&gt;
&lt;p&gt;Ook het hosten van je code op een server is enorm eenvoudig. In je repository tik je het volgende:&lt;/p&gt;
&lt;p&gt;&lt;span style="font-family: Courier New;"&gt;hg serve &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Zodra dat is gedaan zal je repository gelijk op poort 8000 zijn te bereiken, dus bijvoorbeeld &lt;a href="http://localhost:8000/"&gt;http://localhost:8000/&lt;/a&gt;. Hier was ik heel blij mee.&lt;/p&gt;
&lt;p&gt;Toen ik klaar was om m'n repository te vullen met m'n projecten kwam ik toch een beetje bedrogen uit. Blijkbaar is het niet de bedoeling om verschillende solutions, verspreid over meerdere locaties op je systeem, in 1 repository op te slaan. Voor iedere solution is het dus van belang om een nieuwe repository te maken wanneer deze niet op 1 locatie staan. Dit gooide een beetje roet in het eten, aangezien ik had verwacht dat dit wel de bedoeling was. Gelukkig kun je met het hg serve commando via een argument opgeven op welke poort deze dient te draaien, waardoor het mogelijk is om meer dan een repository te hosten op je systeem. Dit vond ik zelf niet een enorm fijne oplossing, maar als het niet anders kan, dan is het zo. Als hier geen alternatief voor zou zijn geweest, dan was ik waarschijnlijk weer overgestapt op een ander systeem. Gelukkig heeft Jeremy Skinner op z'n weblog gepost hoe je meerdere repositories op je Windows Server kan hosten (&lt;a href="http://www.jeremyskinner.co.uk/mercurial-on-iis7/"&gt;http://www.jeremyskinner.co.uk/mercurial-on-iis7/&lt;/a&gt;). Deze tutorial heb ik dan ook stap voor stap gevolgd. Enige punt waar ik tegen aanliep was dat hij schrijft over de &lt;em&gt;hgwebdir.cgi&lt;/em&gt;, maar die kon ik niet vinden in mijn versie van Mercurial, hier heb ik dan ook &lt;em&gt;hgweb.cgi&lt;/em&gt; gebruikt. Deze lijkt ook prima te werken. Door het volgen van deze hele visuele tutorial heb ik nu een werkende Mercurial webserver met al m'n solutions in verschillende repositories.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://weblogjanv/Lists/Photos/110710_1307_Mercurial1.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;Wel heb ik de kleine mini projectjes in 1 repository geplaatst, omdat het anders wel een rommeltje wordt. Of dit handig is, dat zal moeten blijken.&lt;/p&gt;
&lt;p&gt;Iets waar ik met SVN last van had, was dat de bin, obj en Resharper mappen ook allemaal in het versiebeheer komen te staan. Om er zeker van te zijn dat me dit niet weer zou overkomen heb ik nu eerst gezocht hoe ik dat soort bestanden kon excluden. Dit kan met een bestandje met de naam .htignore.&lt;/p&gt;
&lt;p&gt;De huidige inhoud van m'n .htignore bestand ziet er als volgt uit:&lt;/p&gt;
&lt;p&gt;&lt;span style="color: #eeece1;"&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;# use glob syntax&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;syntax: glob&lt;/span&gt;&lt;span style="font-family: Georgia; font-size: 10pt;"&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="color: #eeece1;"&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;# Ignore these directories&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;bin/&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;CVS/&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;[Dd]ebug*/&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;obj/&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;[Rr]elease*/&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;_ReSharper*/&lt;/span&gt;&lt;span style="font-family: Georgia; font-size: 10pt;"&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="color: #eeece1;"&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;# Ignore these files&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;[Bb]uild[Ll]og.*&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;*~&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;.\#*&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;*.bak&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;*.ncb&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;*.obj&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;*.pdb&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;*.suo&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;*.swp&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;*.user &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style="color: #eeece1;"&gt;&lt;span style="font-family: Courier New; font-size: 10pt;"&gt;*.trx&lt;/span&gt;&lt;span style="font-family: Georgia; font-size: 10pt;"&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;De betekenis van alle regels is me nog niet helemaal duidelijk, maar weet wel dat het werkt. Alleen maar m'n belangrijke code staat in Mercurial en niet de onnodige binaries.&lt;/p&gt;
&lt;p&gt;Een tool die het beheer van je repositories een beetje vereenvoudigd is TortoiseHg (&lt;a href="http://tortoisehg.bitbucket.org/"&gt;http://tortoisehg.bitbucket.org/&lt;/a&gt;). Een van de vele Tortoise varianten op de markt en werkt bijna hetzelfde als de rest.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://weblogjanv/Lists/Photos/110710_1307_Mercurial2.png" alt="" /&gt;&lt;img src="http://weblogjanv/Lists/Photos/110710_1307_Mercurial3.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;Je krijgt weer verschillende opties in het context menu van de Verkenner en kunt hiermee de belangrijkste functies van Mercurial aanroepen. Zoals altijd, een enorm handige extensie.&lt;/p&gt;
&lt;p&gt;Omdat ik niet altijd via de Verkenner wil werken, heb ik ook even gezocht naar een goede Visual Studio 2010 integratie met Mercurial. Via de handige extension gallery had ik al vrij snel een goede optie. In eerste instantie heb ik gekozen voor de &lt;a href="http://visualstudiogallery.msdn.microsoft.com/en-us/f22b7568-e6bc-4459-b8fe-25bf64d61f51"&gt;Mercurial Toolbar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://weblogjanv/Lists/Photos/110710_1307_Mercurial4.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;Hiermee krijg je een nieuwe toolbar in VS2010, waarmee je de meest basale onderdelen kunt uitvoeren.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://weblogjanv/Lists/Photos/110710_1307_Mercurial5.png" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;Ook is er een kleine prompt regel waarmee je waarschijnlijk hg-commando's kunt uitvoeren. Dit heb ik nog niet uitgeprobeerd.&lt;/p&gt;
&lt;p&gt;Ook had ik kunnen kiezen voor &lt;a href="http://visualstudiogallery.msdn.microsoft.com/en-us/f22b7568-e6bc-4459-b8fe-25bf64d61f51"&gt;HgSccPackage&lt;/a&gt; of &lt;a href="http://visualstudiogallery.msdn.microsoft.com/en-us/4bc8bff4-a597-4a4b-9edd-ac82e844c337"&gt;VisualHG&lt;/a&gt;. Wellicht dat ik deze op een later tijdstip nog installeer. Momenteel ben ik denk ik wel tevreden met de huidige setup.&lt;/p&gt;
&lt;/div&gt;</content>
  <ispublished>true</ispublished>
  <categories></categories>
  <comments></comments>
</post>