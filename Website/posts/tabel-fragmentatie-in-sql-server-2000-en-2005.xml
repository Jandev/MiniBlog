<?xml version="1.0" encoding="utf-8"?>
<post>
  <title>Tabel fragmentatie in SQL Server 2000 en 2005</title>
  <slug>tabel-fragmentatie-in-sql-server-2000-en-2005</slug>
  <author>Jan</author>
  <pubDate>2008-03-07 14:15:00</pubDate>
  <lastModified>2014-04-25 12:06:08</lastModified>
  <content>&lt;div class="ExternalClass4D5FEDDD93A44D67A90B4FCAF4F8EAB8"&gt;Afgelopen week las ik iets over tabel fragmentatie. Hier had ik eigenlijk nog nooit van gehoord. Wel van bestandsfragmentatie en dergelijke, maar nog nooit dat tabellen ook gefragmenteerd kunnen raken. Op zich wel logisch natuurlijk als er veel in wordt gewijzigd. Belangrijke punten waaraan je tabel fragmentatie aan kunt herkennen zijn: - Langzame performance - Veel disk activiteit - Weinig gebruik van caching Fragmentatie treedt op wanneer er data wordt gewijzigd met INSERT, UPDATE en DELETE statements. Deze queries kunnen ervoor zorgen dat er 'gaten' in de &lt;em&gt;pages&lt;/em&gt; van SQL ontstaan. Met de query &lt;em&gt;DBCC SHOWCONTIG&lt;/em&gt; kun je controleren hoeveel fragmentatie in de tabellen van je database is. Zelf was ik geschokt toen ik de resultaten zag. Er was nu al redelijk wat fragmentatie ontstaan in de tabellen van dit weblog. Dit is dan wel in de ontwikkel omgeving, maar toch. Om de fragmentatie te reduceren kan er gebruik worden gemaakt van twee populaire queries, namelijk &lt;em&gt;DBCC INDEXDEFRAG&lt;/em&gt; en &lt;em&gt;DBCC DBREINDEX&lt;/em&gt;. Deze twee statements kunnen in een &lt;em&gt;Maintenance Plan&lt;/em&gt; worden opgenomen die bijvoorbeeld iedere week of maand (afhankelijk van het gebruik van de database) kan worden uitgevoerd. Zodoende blijven de indexen up-to-date en zal de fragmentatie minimaal blijven. Belangrijk om te weten is dat het &lt;em&gt;DBCC SHOWCONTIG&lt;/em&gt;-statement in SQL Server 2005 is vervangen door &lt;em&gt;sys.dm_db_index_physical_stats&lt;/em&gt; De bovenstaande informatie heb ik grotendeels gehaald (en vertaald) van de SQL Server Performance website, http://www.sql-server-performance.com/articles/per/detect_fragmentation_sql2000_sql2005_p1.aspx Ook heb ik hier een kleine vertaling van gedaan. Meer informatie is op die website te lezen.&lt;/div&gt;</content>
  <ispublished>true</ispublished>
  <categories></categories>
  <comments></comments>
</post>